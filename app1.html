<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>運動促進</title>
    <style>
        body {
            background: white;
            color: #111;
            text-align: center;
            font-family: sans-serif;
            margin: 0;
            padding: 0;
        }

        /* カバー画面（最初に表示される画面） */
        #coverLayer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            /* 半透明の黒 */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            opacity: 1;
            transition: opacity 0.5s ease 0.25s;
            /* 動画より上に表示 */
            /* padding: 20px; */
        }

        #coverLayer.hide {
            opacity: 0;
        }

        /* 再生ボタン */
        #startButton {
            background-color: #4CAF50;
            color: white;
            padding: 15px 32px;
            font-size: 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }

        #startButton:hover {
            background-color: #45a049;
        }

        /* メッセージと音量調整 */
        #warningMessage {
            font-size: 18px;
            color: #555555;
            margin-bottom: 20px;
        }

        #volumeControl {
            margin-top: 10px;
        }

        /* 動画のスタイル */
        video {
            width: 80%;
            height: 80%;
            object-fit: cover;
            /* 動画を画面いっぱいに広げる */
        }

        .line {
            width: 90%;
            height: 2px;
            background-color: #aaa;
            margin: 20px auto;
        }

        #login {
            position: relative;
            /* 子要素に対する絶対位置を基準にする */

            width: 80%;
            padding: 20px;
            margin: auto;
        }

        .overlay {
            position: absolute;
            /* 親要素に対して絶対位置を指定 */
            top: 0;
            /* 親要素の上端に配置 */
            left: 0;
            /* 親要素の左端に配置 */
            width: 100%;
            /* 親要素の幅に合わせる */
            height: 100%;
            /* 親要素の高さに合わせる */
            background-color: rgba(0, 0, 0, 0.5);
            /* 半透明の黒背景 */
            color: white;
            /* 文字色 */
            display: flex;
            justify-content: center;
            align-items: center;
            /* 中央寄せ */
            font-size: 20px;
            z-index: 10;
            /* 他の要素よりも前面に表示 */
        }

        .loginBtn {
            background-color: #0e6;
            padding: 5px 30px;
            border: none;
            border-radius: 50px;
            font-size: 35px;
        }

        .loginMessage {
            margin: 20px;
            color: #777;
        }
    </style>
</head>

<body>

    <!-- カバー画面 -->
    <div id="coverLayer">
        <div id="warningMessage">
            <p>音が流れます。音量の設定は大丈夫ですか？</p>
            <p>周囲に迷惑がかからないように、音量にご注意ください。</p>
        </div>

        <!-- 音量調整スライダー -->
        <input style="display: none;" type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.5">
        <br>

        <!-- 再生ボタン -->
        <button id="startButton">動画を再生</button>
    </div>

    <!-- 動画 -->
    <video id="video" playsinline controls>
        <source src="https://www.mhlw.go.jp/content/11300000/001465340.mp4" type="video/mp4">
        このブラウザは動画再生に対応していません。
    </video>

    <div class="line"></div>

    <div id="login">
        <!-- 新しく追加する要素 -->
        <div class="overlay">
            <p>新しいメッセージ</p>
        </div>

        <div>
            <a href="login.html">
                <button class="loginBtn">ログインページへ</button>
            </a>
            <div class="loginMessage">ログインしてログインボーナスをうけとろう</div>
        </div>
    </div>


    <script>
        const startButton = document.getElementById('startButton');
        const coverLayer = document.getElementById('coverLayer');
        const video = document.getElementById('video');
        const volumeControl = document.getElementById('volumeControl');

        // ボタンがクリックされたら
        startButton.addEventListener('click', () => {
            //coverLayer.style.display = 'none'; // カバー画面を隠す
            coverLayer.classList.add("hide")
            video.muted = false;  // 音声オン
            video.currentTime = 10; // 動画を10秒から再生（途中再生）
            video.play();  // 動画再生開始

            setTimeout(() => {
                coverLayer.style.display = "none"
            }, 1000);
        });

        // 音量の設定を変更する
        volumeControl.addEventListener('input', (event) => {
            video.volume = event.target.value; // 音量を設定
        });

        // 動画が終了した時に発火
        video.addEventListener('ended', () => {

        });

        async function getProject() {
            console.log("aaa")
				try {
					const response = await fetch("https://2024isc1230156.bambina.jp/dousoukai/list_data.php", {
						method: "POST",
						headers: {
							"Content-Type": "application/json"
						},
						body: JSON.stringify({
							type: "getProject"
						})
					})
					const data = await response.json()
					console.log(data)
					view(data)
				} catch (error) {
					console.log("err:" + error)
				}
			}
    </script>

</body>


</html>
